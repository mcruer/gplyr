% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nested_mutate.R
\name{nested_mutate}
\alias{nested_mutate}
\title{Mutate Columns Inside a Nested Tibble (List-Column)}
\usage{
nested_mutate(df, list_col, .cols = everything(), .fn = ~.x, ...)
}
\arguments{
\item{df}{A data frame containing at least one list-column of tibbles.}

\item{list_col}{The list-column containing nested tibbles. Must be supplied
as an unquoted column name.}

\item{.cols}{A tidyselect expression identifying which columns \emph{inside each
nested tibble} should be mutated. Defaults to \code{dplyr::everything()}.}

\item{.fn}{A function or purrr-style formula to apply to the selected columns.
May be supplied as a bare function (e.g., \code{as.character}) or a formula
(e.g., \code{~ stringr::str_trim(.x)}).}

\item{...}{Additional arguments passed to \code{.fn} if applicable.}
}
\value{
A data frame identical to \code{df}, except that the nested tibbles in \code{list_col}
have been updated by applying \code{.fn} to the selected \code{.cols}.
}
\description{
\code{nested_mutate()} applies a column-wise transformation inside each tibble
stored in a list-column. This is a convenient wrapper around \code{purrr::map()}
and \code{dplyr::across()} that allows you to mutate selected columns \emph{within}
nested tibbles using tidyselect syntax.

This is useful in workflows where list-columns created by \code{tidyr::nest()}
contain structured data requiring internal mutation.
}
\details{
Inside each nested tibble, \code{nested_mutate()} calls \code{quickm()} with the provided
column selection and transformation function. Column selection and mutation
occur independently within each nested tibble.

The function is designed for internal data engineering workflows that make
extensive use of list-columns and nested tibbles.
}
\examples{
\dontrun{
library(dplyr)
library(tibble)
library(tidyselect)

df <- tibble(
  id = 1:2,
  data = list(
    tibble(a = 1, b = 2),
    tibble(a = NA, b = 5)
  )
)

# Convert column `a` inside each nested tibble to character
df \%>\%
  nested_mutate(data, a, as.character)

# Mutate multiple nested columns using tidyselect
df \%>\%
  nested_mutate(data, tidyselect::matches("a|b"), ~ .x * 10)
}

}
